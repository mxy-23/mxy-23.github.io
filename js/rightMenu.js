var rm={showRightMenu:function(t,e=0,n=0){let a=$("#rightMenu");a.css("top",e+"px").css("left",n+"px"),t?(stopMaskScroll(),a.show()):a.hide()}};let rmWidth=$("#rightMenu").width(),rmHeight=$("#rightMenu").height();function removeRightMenu(){rm.showRightMenu(!1),$("#rightmenu-mask").attr("style","display: none")}function stopMaskScroll(){if(document.getElementById("rightmenu-mask")){document.getElementById("rightmenu-mask").addEventListener("mousewheel",(function(t){removeRightMenu()}),!1)}if(document.getElementById("rightMenu")){document.getElementById("rightMenu").addEventListener("mousewheel",(function(t){removeRightMenu()}),!1)}}function switchDarkMode(){removeRightMenu();"light"===("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout((()=>window.disqusReset()),200)}rm.reloadrmSize=function(){rmWidth=$("#rightMenu").width(),rmHeight=$("#rightMenu").height()},window.oncontextmenu=function(t){if(document.body.clientWidth>768){let e=t.clientX+10,n=t.clientY,a=$(".rightMenuNormal"),i=$(".rightMenuOther");$("#menu-readmode");return a.show(),i.show(),rm.reloadrmSize(),e+rmWidth>window.innerWidth&&(e-=rmWidth),n+rmHeight>window.innerHeight&&(n-=rmHeight),rm.showRightMenu(!0,n,e),$("#rightmenu-mask").attr("style","display: flex"),!1}},document.addEventListener("DOMContentLoaded",(function(){translateInitialization(),document.addEventListener("pjax:complete",translateInitialization)}));const translate=GLOBAL_CONFIG.translate,snackbarData=GLOBAL_CONFIG.Snackbar,defaultEncoding=translate.defaultEncoding,translateDelay=translate.translateDelay,msgToTraditionalChinese=translate.msgToTraditionalChinese,msgToSimplifiedChinese=translate.msgToSimplifiedChinese;let currentEncoding=defaultEncoding;const targetEncodingCookie="translate-chn-cht";let translateButtonObject,targetEncoding=void 0===saveToLocal.get(targetEncodingCookie)?defaultEncoding:Number(saveToLocal.get("translate-chn-cht"));const isSnackbar=void 0!==GLOBAL_CONFIG.Snackbar;function translateText(t){return""===t||null==t?"":1===currentEncoding&&2===targetEncoding?Simplized(t):2===currentEncoding&&1===targetEncoding?Traditionalized(t):t}function translateBody(t){let e;e="object"==typeof t?t.childNodes:document.body.childNodes;for(let t=0;t<e.length;t++){const n=e.item(t);"||BR|HR|".indexOf("|"+n.tagName+"|")>0||n===translateButtonObject||(""!==n.title&&null!=n.title&&(n.title=translateText(n.title)),""!==n.alt&&null!=n.alt&&(n.alt=translateText(n.alt)),""!==n.placeholder&&null!=n.placeholder&&(n.placeholder=translateText(n.placeholder)),"INPUT"===n.tagName&&""!==n.value&&"text"!==n.type&&"hidden"!==n.type&&(n.value=translateText(n.value)),3===n.nodeType?n.data=translateText(n.data):translateBody(n))}}function translatePage(){1===targetEncoding?(currentEncoding=1,targetEncoding=2,saveToLocal.set(targetEncodingCookie,targetEncoding,2),translateBody(),isSnackbar&&btf.snackbarShow(snackbarData.cht_to_chs)):2===targetEncoding&&(currentEncoding=2,targetEncoding=1,saveToLocal.set(targetEncodingCookie,targetEncoding,2),translateBody(),isSnackbar&&btf.snackbarShow(snackbarData.chs_to_cht))}function JTPYStr(){return" "}function FTPYStr(){return" "}function Traditionalized(t){let e="";const n=JTPYStr(),a=FTPYStr();for(let i=0;i<t.length;i++)t.charCodeAt(i)>1e4&&-1!==n.indexOf(t.charAt(i))?e+=a.charAt(n.indexOf(t.charAt(i))):e+=t.charAt(i);return e}function Simplized(t){let e="";const n=JTPYStr(),a=FTPYStr();for(let i=0;i<t.length;i++)t.charCodeAt(i)>1e4&&-1!==a.indexOf(t.charAt(i))?e+=n.charAt(a.indexOf(t.charAt(i))):e+=t.charAt(i);return e}function translateInitialization(){translateButtonObject=document.getElementById("menu-translate"),translateButtonObject&&(currentEncoding!==targetEncoding&&setTimeout(translateBody,translateDelay),translateButtonObject.addEventListener("click",translatePage,!1))}$("#menu-backward").on("click",(function(){window.history.back()})),$("#menu-forward").on("click",(function(){window.history.forward()})),$("#menu-refresh").on("click",(function(){window.location.reload()})),$("#menu-darkmode").on("click",(function(){switchDarkMode(),new Vue({data:function(){this.$notify({title:"‰Ω†Â∑≤Ë¢´ÂèëÁé∞üòú",message:"ÂàáÊç¢Ê®°ÂºèÂΩì‰∏≠",position:"top-left",offset:50,showClose:!0,type:"warning",duration:5e3})}})})),$("#menu-home").on("click",(function(){window.location.href=window.location.origin})),$("#menu-translate").on("click",(function(){removeRightMenu(),translateInitialization()})),$(".menu-link").on("click",(function(){removeRightMenu()})),$("#menu-print").on("click",(function(){removeRightMenu(),window.print()})),$("#rightmenu-mask").on("click",(function(){removeRightMenu()})),$("#rightmenu-mask").contextmenu((function(){return removeRightMenu(),!1}));